package com.bankapp.main;


import java.util.Scanner;

import org.apache.log4j.Logger;

import com.bankapp.employee.service.EmployeeService;
import com.bankapp.employee.service.impl.EmployeeServiceImpl;
import com.bankapp.exception.LoginException;

public class Main {
	
	private static Logger log=Logger.getLogger(Main.class);

	public static void main(String[] args) {
		
		int ch = 0;
		Scanner scan=new Scanner(System.in);
		EmployeeService empService = new EmployeeServiceImpl();
		
		do {
			log.info("Welcome to Marvel Bank!");
			log.info("-------------------------");
			log.info("1) Customer Login");
			log.info("2) Employee Login");
			log.info("3) Exit");
			try {
				ch=Integer.parseInt(scan.nextLine());
			}catch(NumberFormatException e) {
				//to default 
			}
			switch (ch) {
			case 1:
				int option=0;
				
				do{
					log.info("Welcome to customer login");
				log.info("Please choose one of the following options");
				log.info("1) Login");
				log.info("2) Create an account");
				log.info("3) Exit");
				try {
					option=Integer.parseInt(scan.nextLine());
				}catch(NumberFormatException e) {
					//to default 
				}
				switch (option) {
				case 1:
					log.info("Please enter your email address");
					log.info("Please enter your password");
					

					break;
				case 2:
					log.info("Please provide your email address");
					log.info("Create your password");

					break;
				case 3:
					log.info("Exiting to main menu");
					
					break;

				default:
					log.info("Please enter a number 1-3 ONLY");
					break;
				}
				}while(option!=3);

				break;
			case 2:
				log.info("Welcome to employee login");
				log.info("Please enter your user ID");
				int empId=Integer.parseInt(scan.nextLine());
				log.info("Please enter your password");
				String password=scan.nextLine();
				
				try {
					log.info(empService.empLogin(empId, password));
				} catch (LoginException e) {
					log.info(e);
				}
				break;
			case 3:
				log.info("Thank you for banking with Marvel Bank!");

				break;

			default:
				log.info("Please only enter a number 1-3");
				break;
			}

		} while (ch != 3);

	}

}
